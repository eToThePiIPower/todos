.container
  h1.no-widows
    = @todo_list.name
  p.lead
    = @todo_list.description

  .progress.progress-mini
    = render 'shared/progressbar',
      percent: @todo_list.percent_complete

  - if @todo_items.empty?
    .well
      h2 This list is empty!
      p.lead Try adding an item below.

  - else
    ul.list-group#todo-items-group
      - @todo_items.each do |item|

        ruby:
          todo_list_item_classes = ['list-group-item todo-list-item']
          todo_list_item_classes << (item.complete? ? 'todo-list-item-complete' : 'todo-list-item-incomplete')
          todo_list_item_classes << 'todo-list-item-old' if item.archived?
          todo_list_item_classes << 'todo-list-item-overdue' if item.overdue?
          todo_list_item_classes << 'todo-list-item-due-now' if item.due_now?
        li[class=todo_list_item_classes id=item.id]
          = render 'todo_items/show', item: item

  = render 'todo_items/form'
